const METHOD={GET:"GET",POST:"POST",PUT:"PUT",HEAD:"HEAD",DELETE:"DELETE"};var Hermes=function(){var a,b=function(f,g,h){var i=new c(g,h),j={},k=[],l=0;return{setAuthentication(m,n){return i.setAuthentication(m,n),this},setDurationMax(m){return l=1e3*m,this},addParams(m={}){for(key in m)this.addParam(key,m[key]);return this},addParam(m,n){return i.addParam(m,n),this},addFilters(...m){for(filter of m)this.addFilter(filter);return this},addFilter(m){return i.addFilter(m),this},setEventRequest({init:m,abort:n,success:o,error:p,processingRequest:q}){return j.init=m,j.abort=n,j.success=o,j.error=p,j.processingRequest=q,this},addObserver(m){return k.push(m),this},addCookie(m,n){return i.addCookie(m,n),this},execute(){var m=new e(f,l,!0);m.setObservers(k),m.setEventRequest(j),m.setHttpRequest(i),m.sendRequest()},getURI(){return i.getURI()},getURIReal(){return i.getURIReal()}}},c=function(f,g){function h(){let o;return j.forEach((p,q)=>{0===q?o=`${p.param}=${p.value}`:o+=`&${p.param}=${p.value}`}),o}function i(){let o="";return m.forEach(p=>{o+=`/${p}`}),o}var j=[],k="",l={},m=[],n=[];return{addCookie(o,p){n.push({nameCookie:o,valueCookie:p})},setAuthentication(o,p){k=`${o}:${p}`},addParam(o,p){j.push({param:o,value:p})},setHeader(o={}){l=o},addFilter(o){m.push(o)},setURI(o){g=o},getHeader(){return l},getParams(){return h()},getURI(){let o="GET"===f?`${g}${i()}?${h()}`:`${g}${i()}`;if(""!=k){let p=o.split(/(http[s]*:\/\/)/i);return`${p[1]}${k}@${p[2]}`}return o},getURIReal(){return g},getMethod(){return f}}},d=function(){var f=[],g,h=0;return{addConfiguration(i,j){return h++,g={index:i,content:j},f.push(g),g.content},getConfiguration(i){var j=f.find(k=>k.index==i);return null==j?j:j.content},deleteConfiguration(i){f=f.filter(j=>j.index!==i),h=f.length},getCount(){return h},getLastConfigurationHttpRequest(){return g.content}}},e=function(f,g=0,h){function i(){t.init()}function j(){clearTimeout(r),t.success({responseText:q.responseText,responseXML:q.responseXML,status:q.status}),s.forEach(w=>w.notify(f,{completed:!0,response:q.responseText}))}function k(){t.error(q.statusText,q.status),s.forEach(w=>w.notify(f,{completed:!1,response:q.statusText}))}function l(){t.processingRequest()}function m(){t.abort()}function n(){q=new XMLHttpRequest,q.onprogress=l,q.onerror=k,q.onload=j,q.onabort=m,0!==g&&(r=setTimeout(()=>q.abort(),g)),i(),q.open(u.getMethod(),u.getURI(),h),"POST"===u.getMethod&&q.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p()}function o(){q.send(u.getParams())}function p(){var v=u.getHeader();for(key in v)q.setRequestHeader(key,v[key])}var q,r,s=[],t,u;return{sendRequest(){n(),o()},setObservers(v){return s=v,this},setEventRequest(v){return t=v,this},setHttpRequest(v){return u=v,this}}};return{newRequestAjax(f,g,h,i="prototype"){return"prototype"===i?(null==a&&(a=new d),""==f&&(f="AjaxRequest"+a.getCount()+1),a.addConfiguration(f,new b(f,g,h))):new b(f,g,h)},getRequestPrevious(f=""){return""===f?a.getLastConfigurationHttpRequest():a.getConfiguration(f)},deleteRequestPrevious(f=""){return""===f?a.deleteConfiguration(a.getCount()):a.deleteConfiguration(f)},getCount(){a.getCount()}}}();
